[Назад](https://macs-club.github.io/ScalaLectures/index)
## Лабораторные и тесты: общая информация

Каждая лабораторная -- это `sbt`-проект, в котором вам нужно имплементировать некоторую логику для структур описанных в `main`-пакете, так чтобы она проходила написанные тесты и дополнительно покрыть её своими тестами (везде кроме первой лабораторной).

Чтобы скомпилировать проект в корне вызовете команду `sbt compile`.

Некоторые проекты требует интерактивной работы, их можно запустить командой `sbt run`.

Чтобы провести тесты используется команда `sbt test`

### Как писать тесты в Scala

Лабораторные идут со включенной в проект библиотекой `scalatest`.

Простейшйи тест выглядит как:

```
"List sum of (1,2,3,4,5)" should "be equal 15" in {
  assert(List.sum(xs)== (15))
}
```

где строки `"List sum of (1,2,3,4,5)"` и `"be equal 15"`-- части сообщения выдываемого при проверке, связанные ключевым словом `should`. После них и ключевого слова `in` описывается проверяемые выражение.
Они выглядят как перечисление нескольких выражениий `assert` каждое из которых принимает провреяемое логическое значение.

Чтобы работать с проверкой выходных данных на консоль можно использовать следующую конструкцию

```
val stream = new java.io.ByteArrayOutputStream()
Console.withOut(stream) {
      for (x<-xs) print(x)
    }
    assert(stream.toString == "12345") 
```

Функции `Console.withOut`, `.withIn` и `withErr` позволяют перенаправить на время выполнения описанного после неё блока выражений из выбранного потоко ввод-вывода в отдельный байтовый поток, который впоследствии можно будет проверить с помощью `assert`. Впоследствии будет показан более функциональный вариант работы с потоками, с более простым тестированием.
[Назад](https://macs-club.github.io/ScalaLectures/index)

